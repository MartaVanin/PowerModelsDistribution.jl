<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Getting Started · PowerModelsDistribution</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="PowerModelsDistribution logo"/></a><div class="docs-package-name"><span class="docs-autofit">PowerModelsDistribution</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Manual</span><ul><li class="is-active"><a class="tocitem" href>Getting Started</a><ul class="internal"><li><a class="tocitem" href="#Parsing-files"><span>Parsing files</span></a></li><li><a class="tocitem" href="#Getting-Results"><span>Getting Results</span></a></li><li><a class="tocitem" href="#Accessing-Different-Formulations"><span>Accessing Different Formulations</span></a></li><li><a class="tocitem" href="#Inspecting-the-Formulation"><span>Inspecting the Formulation</span></a></li><li><a class="tocitem" href="#Providing-a-Warm-Start"><span>Providing a Warm Start</span></a></li><li><a class="tocitem" href="#Examples"><span>Examples</span></a></li></ul></li><li><a class="tocitem" href="../connections/">Connecting Components</a></li><li><a class="tocitem" href="../math-model/">Mathematical Model</a></li><li><a class="tocitem" href="../eng-data-model/">Engineering Data Model</a></li><li><a class="tocitem" href="../enums/">Enums in Engineering Model</a></li><li><a class="tocitem" href="../eng2math/">Conversion to Mathematical Model</a></li><li><a class="tocitem" href="../external-data-formats/">External Data Formats</a></li><li><input class="collapse-toggle" id="menuitem-2-8" type="checkbox"/><label class="tocitem" for="menuitem-2-8"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../engineering_model/">Engineering Model</a></li><li><a class="tocitem" href="../engineering_model_helper_functions/">Engineering Model Helper Functions</a></li></ul></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../formulations/">Network Formulations</a></li><li><a class="tocitem" href="../specifications/">Problem Specifications</a></li><li><a class="tocitem" href="../library/">Modeling Components</a></li></ul></li><li><span class="tocitem">Basics</span><ul><li><a class="tocitem" href="../load-model/">Load Models</a></li></ul></li><li><span class="tocitem">Developer</span><ul><li><a class="tocitem" href="../developer/">Developer</a></li><li><a class="tocitem" href="../formulation-details/">Formulation Details</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Getting Started</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Getting Started</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/lanl-ansi/PowerModelsDistribution.jl/blob/master/docs/src/quickguide.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Quick-Start-Guide"><a class="docs-heading-anchor" href="#Quick-Start-Guide">Quick Start Guide</a><a id="Quick-Start-Guide-1"></a><a class="docs-heading-anchor-permalink" href="#Quick-Start-Guide" title="Permalink"></a></h1><p>Once PowerModelsDistribution is installed, Ipopt is installed, and a network data file (e.g. <code>&quot;case3_unbalanced.dss&quot;</code> in the package folder under <code>./test/data</code>) has been acquired, an unbalanced AC Optimal Power Flow can be executed with,</p><pre><code class="language-julia">using PowerModelsDistribution
using Ipopt

run_ac_mc_opf(&quot;case3_unbalanced.dss&quot;, with_optimizer(Ipopt.Optimizer))</code></pre><h2 id="Parsing-files"><a class="docs-heading-anchor" href="#Parsing-files">Parsing files</a><a id="Parsing-files-1"></a><a class="docs-heading-anchor-permalink" href="#Parsing-files" title="Permalink"></a></h2><p>To parse an OpenDSS file into PowerModelsDistribution&#39;s default <code>ENGINEERING</code> format, use the <code>parse_file</code> command</p><pre><code class="language-julia">eng = parse_file(&quot;case3_unbalanced.dss&quot;)</code></pre><p>To examine the <code>MATHEMATICAL</code> model it is possible to transform the data model using the <code>transform_data_model</code> command, but this step is not necessary to run a problem.</p><pre><code class="language-julia">math = transform_data_model(eng)</code></pre><h2 id="Getting-Results"><a class="docs-heading-anchor" href="#Getting-Results">Getting Results</a><a id="Getting-Results-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-Results" title="Permalink"></a></h2><p>The run commands in PowerModelsDistribution return detailed results data in the form of a dictionary. This dictionary can be saved for further processing as follows,</p><pre><code class="language-julia">result = run_ac_mc_opf(eng, with_optimizer(Ipopt.Optimizer))</code></pre><p>Alternatively, you can pass the file path string directly:</p><pre><code class="language-julia">result = run_ac_mc_opf(&quot;case3_unbalanced.dss&quot;, with_optimizer(Ipopt.Optimizer))</code></pre><h2 id="Accessing-Different-Formulations"><a class="docs-heading-anchor" href="#Accessing-Different-Formulations">Accessing Different Formulations</a><a id="Accessing-Different-Formulations-1"></a><a class="docs-heading-anchor-permalink" href="#Accessing-Different-Formulations" title="Permalink"></a></h2><p>The function &quot;run<em>ac</em>mc<em>opf&quot; is a short-hand for a more general formulation-independent OPF execution, &quot;run</em>mc<em>opf&quot;. For example, `run</em>ac<em>mc</em>opf` is equivalent to,</p><pre><code class="language-julia">run_mc_opf(eng, ACPPowerModel, with_optimizer(Ipopt.Optimizer))</code></pre><p><code>ACPPowerModel</code> indicates an AC formulation in polar coordinates.  This more generic <code>run_mc_opf()</code> allows one to solve an OPF problem with any power network formulation implemented in PowerModels or PowerModelsDistribution.  For example, the SDPUBFPowerModel relaxation of unbalanced Optimal Power Flow (branch flow model) can be run with,</p><pre><code class="language-julia">using SCS
run_mc_opf(eng, SDPUBFPowerModel, with_optimizer(SCS.Optimizer))</code></pre><p>Note that you have to use a SDP-capable solver, e.g. the open-source solver SCS, to solve SDP models.</p><h2 id="Inspecting-the-Formulation"><a class="docs-heading-anchor" href="#Inspecting-the-Formulation">Inspecting the Formulation</a><a id="Inspecting-the-Formulation-1"></a><a class="docs-heading-anchor-permalink" href="#Inspecting-the-Formulation" title="Permalink"></a></h2><p>The following example demonstrates how to break a <code>run_mc_opf</code> call into seperate model building and solving steps.  This allows inspection of the JuMP model created by PowerModelsDistribution for the AC-OPF problem. Note that the <code>MATHEMATICAL</code> model must be passed to <code>instantiate_model</code>, so the data model must either be transformed with <code>transform_data_model</code> or parsed directly to a <code>MATHEMATICAL</code> model using the <code>data_model</code> keyword argument:</p><pre><code class="language-julia">math = parse_file(&quot;case3_unbalanced.dss&quot;; data_model=MATHEMATICAL)
pm = instantiate_model(math, ACPPowerModel, build_mc_opf; ref_extensions=[ref_add_arcs_trans!])
print(pm.model)
optimize_model!(pm, optimizer=with_optimizer(Ipopt.Optimizer))</code></pre><h2 id="Providing-a-Warm-Start"><a class="docs-heading-anchor" href="#Providing-a-Warm-Start">Providing a Warm Start</a><a id="Providing-a-Warm-Start-1"></a><a class="docs-heading-anchor-permalink" href="#Providing-a-Warm-Start" title="Permalink"></a></h2><p>To reduce the number of solver iterations, it might be useful to provide a (good) initial value to some or all optimization variables. To do so, it is sufficient to assign a value or vector (depending on the dimensions of the variable) in the data dictionary, under the key <code>variablename_start</code>. The example below shows how to do it for the <code>vm</code> and <code>va</code> variables.</p><pre><code class="language-julia">math = parse_file(&quot;case3_unbalanced.dss&quot;; data_model=MATHEMATICAL)
math[&quot;bus&quot;][&quot;2&quot;][&quot;vm_start&quot;] = [0.9959, 0.9959, 0.9959]
math[&quot;bus&quot;][&quot;2&quot;][&quot;va_start&quot;] = [0.00, -2.0944, 2.0944]</code></pre><p>Providing a bad initial value might result in the opposite effect: longer calculation times or convergence issues, so the start value assignment should be done attentively. If no initial value is provided, a flat start is assigned by default. The default initial value of each variable is indicated in the function where the variable is defined, as the last argument of the <code>comp_start_value</code> function. In the case of <code>vm</code>, this is 1.0, as shown below:</p><pre><code class="language-julia">vm = var(pm, nw)[:vm] = Dict(i =&gt; JuMP.@variable(pm.model,
        [c in 1:ncnds], base_name=&quot;$(nw)_vm_$(i)&quot;,
        start = comp_start_value(ref(pm, nw, :bus, i), &quot;vm_start&quot;, c, 1.0)
    ) for i in ids(pm, nw, :bus)
)</code></pre><p>Finally, it should be noted that if <code>va_start</code> and <code>vm_start</code> are present in a data dictionary which is passed to the ACR or IVR formulation, these are converted to their rectangular equivalents and used as <code>vr_start</code> and <code>vi_start</code>.</p><h2 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h2><p>More examples of working with the engineering data model can be found in the <code>/examples</code> folder of the PowerModelsDistribution.jl repository.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../connections/">Connecting Components »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 7 April 2021 22:40">Wednesday 7 April 2021</span>. Using Julia version 1.6.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
